webpackJsonp([19],{259:function(l,n,u){"use strict";function t(l){return e._21(0,[(l()(),e._20(-1,null,["\n"])),(l()(),e._1(1,0,null,null,22,"ion-header",[],null,null,null,null,null)),e._0(2,16384,null,0,k.a,[A.a,e.j,e.A,[2,T.a]],null,null),(l()(),e._20(-1,null,["\n\n  "])),(l()(),e._1(4,0,null,null,18,"ion-navbar",[["class","toolbar"],["hideBackButton","true"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,y.b,y.a)),e._0(5,49152,null,0,S.a,[L.a,[2,T.a],[2,R.a],A.a,e.j,e.A],{hideBackButton:[0,"hideBackButton"]},null),(l()(),e._20(-1,3,["\n    "])),(l()(),e._1(7,0,null,0,10,"ion-buttons",[["left",""]],null,null,null,null,null)),e._0(8,16384,null,1,j.a,[A.a,e.j,e.A,[2,B.a],[2,S.a]],null,null),e._18(603979776,1,{_buttons:1}),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(11,0,null,null,5,"button",[["icon-only",""],["ion-button",""],["tappable",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.goBack()&&t}return t},F.b,F.a)),e._0(12,1097728,[[1,4]],0,N.a,[[8,""],A.a,e.j,e.A],null,null),(l()(),e._20(-1,0,["\n        "])),(l()(),e._1(14,0,null,0,1,"ion-icon",[["ios","ios-arrow-back"],["md","md-arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),e._0(15,147456,null,0,I.a,[A.a,e.j,e.A],{ios:[0,"ios"],md:[1,"md"]},null),(l()(),e._20(-1,0,["\n      "])),(l()(),e._20(-1,null,["\n    "])),(l()(),e._20(-1,3,["\n    "])),(l()(),e._1(19,0,null,3,2,"ion-title",[],null,null,null,O.b,O.a)),e._0(20,49152,null,0,x.a,[A.a,e.j,e.A,[2,B.a],[2,S.a]],null,null),(l()(),e._20(-1,0,["实名认证"])),(l()(),e._20(-1,3,["\n  "])),(l()(),e._20(-1,null,["\n\n"])),(l()(),e._20(-1,null,["\n\n\n"])),(l()(),e._1(25,0,null,null,73,"ion-content",[["padding",""]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,P.b,P.a)),e._0(26,4374528,null,0,E.a,[A.a,K.a,w.a,e.j,e.A,L.a,U.a,e.v,[2,T.a],[2,R.a]],null,null),(l()(),e._20(-1,1,["\n  "])),(l()(),e._1(28,0,null,1,41,"div",[["class","step"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n    "])),(l()(),e._1(30,0,null,null,38,"div",[["class","divin"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(32,0,null,null,12,"div",[["class","stepline"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n        "])),(l()(),e._1(34,0,null,null,1,"div",[["class","round round1 active"]],null,null,null,null,null)),(l()(),e._20(-1,null,["1"])),(l()(),e._20(-1,null,["\n        "])),(l()(),e._1(37,0,null,null,1,"div",[["class","round round2"]],null,null,null,null,null)),(l()(),e._20(-1,null,["2"])),(l()(),e._20(-1,null,["\n        "])),(l()(),e._1(40,0,null,null,1,"div",[["class","round round3"]],null,null,null,null,null)),(l()(),e._20(-1,null,["3"])),(l()(),e._20(-1,null,["\n        "])),(l()(),e._1(43,0,null,null,0,"div",[["class","line"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(46,0,null,null,21,"div",[["class","stepdes"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n        "])),(l()(),e._1(48,0,null,null,18,"ion-grid",[["class","grid"]],null,null,null,null,null)),e._0(49,16384,null,0,M.a,[],null,null),(l()(),e._20(-1,null,["\n          "])),(l()(),e._1(51,0,null,null,14,"ion-row",[["class","row"]],null,null,null,null,null)),e._0(52,16384,null,0,D.a,[],null,null),(l()(),e._20(-1,null,["\n            "])),(l()(),e._1(54,0,null,null,2,"ion-col",[["class","col1 col"],["col-4",""]],null,null,null,null,null)),e._0(55,16384,null,0,G.a,[],null,null),(l()(),e._20(-1,null,["\n              身份认证\n            "])),(l()(),e._20(-1,null,["\n            "])),(l()(),e._1(58,0,null,null,2,"ion-col",[["class","col2 col"],["col-4",""]],null,null,null,null,null)),e._0(59,16384,null,0,G.a,[],null,null),(l()(),e._20(-1,null,["\n              面部识别\n            "])),(l()(),e._20(-1,null,["\n            "])),(l()(),e._1(62,0,null,null,2,"ion-col",[["class","col3 col"],["col-4",""]],null,null,null,null,null)),e._0(63,16384,null,0,G.a,[],null,null),(l()(),e._20(-1,null,["\n              我的额度\n            "])),(l()(),e._20(-1,null,["\n          "])),(l()(),e._20(-1,null,["\n        "])),(l()(),e._20(-1,null,["\n      "])),(l()(),e._20(-1,null,["\n    "])),(l()(),e._20(-1,null,["\n  "])),(l()(),e._20(-1,1,["\n  "])),(l()(),e._1(71,0,null,1,19,"div",[["class","divin"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n    "])),(l()(),e._1(73,0,null,null,7,"div",[["class","devision d1"],["tabable",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.openCamera("face")&&t}return t},null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(75,0,null,null,1,"div",[["class","imgcon"]],null,null,null,null,null)),(l()(),e._1(76,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(78,0,null,null,1,"div",[["class","des"]],null,null,null,null,null)),(l()(),e._20(-1,null,["上传身份证正面"])),(l()(),e._20(-1,null,["\n    "])),(l()(),e._20(-1,null,["\n    "])),(l()(),e._1(82,0,null,null,7,"div",[["class","devision d1"],["tabable",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.openCamera("behind")&&t}return t},null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(84,0,null,null,1,"div",[["class","imgcon"]],null,null,null,null,null)),(l()(),e._1(85,0,null,null,0,"img",[],[[8,"src",4]],null,null,null,null)),(l()(),e._20(-1,null,["\n      "])),(l()(),e._1(87,0,null,null,1,"div",[["class","des"]],null,null,null,null,null)),(l()(),e._20(-1,null,["上传身份证反面"])),(l()(),e._20(-1,null,["\n    "])),(l()(),e._20(-1,null,["\n  "])),(l()(),e._20(-1,1,["\n  "])),(l()(),e._1(92,0,null,1,5,"div",[["class","btncon"]],null,null,null,null,null)),(l()(),e._20(-1,null,["\n    "])),(l()(),e._1(94,0,null,null,2,"button",[["class","mybtn"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;if("click"===n){t=!1!==l.component.gotoNext()&&t}return t},F.b,F.a)),e._0(95,1097728,null,0,N.a,[[8,""],A.a,e.j,e.A],null,null),(l()(),e._20(96,0,["",""])),(l()(),e._20(-1,null,["\n  "])),(l()(),e._20(-1,1,["\n"])),(l()(),e._20(-1,null,["\n"]))],function(l,n){l(n,5,0,"true");l(n,15,0,"ios-arrow-back","md-arrow-back")},function(l,n){var u=n.component;l(n,4,0,e._13(n,5)._hidden,e._13(n,5)._sbPadding);l(n,14,0,e._13(n,15)._hidden);l(n,25,0,e._13(n,26).statusbarPadding,e._13(n,26)._hasRefresher);l(n,76,0,""==u.front?"../../assets/imgs/icon_boy@3x.png":u.front);l(n,85,0,""==u.behind?"../../assets/imgs/icon_guohui@3x.png":u.behind);l(n,96,0,u.nextText)})}Object.defineProperty(n,"__esModule",{value:!0});var e=u(0),a=u(2),o=(u(32),u(136)),i=u(89),s=u(33),r=u(23),_=function(l){function n(n,u,t,e,a,o){var i=l.call(this)||this;return i.navCtrl=n,i.navParams=u,i.C=t,i.toastController=e,i.LS=a,i.camera=o,i.front="",i.behind="",i.uploadResult={FRONT:{},BACK:{}},i.id_approved="",i.emergency_approved="",i.nextText="下一步",i.id_approved=i.navParams.get("id_approved"),i.emergency_approved=i.navParams.get("emergency_approved"),"1"!=i.id_approved&&"3"!=i.id_approved||(i.getIdMsg(),i.nextText="已认证，下一步"),i}return Object(a.__extends)(n,l),n.prototype.ionViewDidLoad=function(){},n.prototype.getIdMsg=function(){var l=this;this.C.postApi("home/indexA/getconf",{method:"get_idcard_info",token:this.LS.getItem("TOKEN")}).subscribe(function(n){"SUCCESS"==n.result_code?(l.front=n.face,l.behind=n.back):l.errorLog(l.toastController,n.result_msg)},function(n){l.C.endLoading(),l.errorLog(l.toastController,n.error.message)})},n.prototype.goBack=function(){this.navCtrl.pop()},n.prototype.openCamera=function(l){var n=this;if("1"==this.id_approved||"3"==this.id_approved)this.errorLog(this.toastController,"您的身份证已经认证");else{this.camera.getPicture({quality:50,destinationType:this.camera.DestinationType.DATA_URL,encodingType:this.camera.EncodingType.JPEG,mediaType:this.camera.MediaType.PICTURE,saveToPhotoAlbum:!1,targetWidth:1e3,targetHeight:1333}).then(function(u){var t="data:image/jpeg;base64,"+u;"face"==l?n.front=t:"behind"==l&&(n.behind=t)},function(l){})}},n.prototype.checkIdSuccess=function(l){"SUCCESS"==l.FRONT.result_code&&(this.uploadResult.FRONT=l.FRONT,this.LS.setItem("idcard",l.FRONT.id_card_number),this.LS.setItem("name",l.FRONT.name)),"SUCCESS"==l.BACK.result_code&&(this.uploadResult.BACK=l.BACK),"FAIL"!=l.FRONT.result_code?"FAIL"!=l.BACK.result_code?"SUCCESS"==this.uploadResult.FRONT.result_code&&"SUCCESS"==this.uploadResult.BACK.result_code&&this.navCtrl.push("FacecheckPage",{id_approved:"3"}):this.errorLog(this.toastController,l.BACK.result_msg):this.errorLog(this.toastController,l.FRONT.result_msg)},n.prototype.upload=function(){var l=this;""!=this.front&&""!=this.behind?this.C.postApi("home/indexA/getconf",{method:"upload",FRONTIMG:this.front.split("data:image/jpeg;base64,")[1],BACKIMG:this.behind.split("data:image/jpeg;base64,")[1],token:this.LS.getItem("TOKEN")}).subscribe(function(n){l.checkIdSuccess(n)},function(n){l.C.endLoading(),l.errorLog(l.toastController,n.error.message)}):this.errorLog(this.toastController,"请先拍照")},n.prototype.gotoNext=function(){"1"==this.id_approved||"3"==this.id_approved?this.navCtrl.push("FacecheckPage",{id_approved:this.id_approved}):this.upload()},n}(i.a),c=function(){return function(){}}(),d=u(201),p=u(202),h=u(203),g=u(204),v=u(205),b=u(206),m=u(207),f=u(208),C=u(209),k=u(45),A=u(1),T=u(5),y=u(131),S=u(27),L=u(6),R=u(13),j=u(64),B=u(34),F=u(26),N=u(19),I=u(28),O=u(132),x=u(51),P=u(63),E=u(20),K=u(4),w=u(7),U=u(22),M=u(93),D=u(94),G=u(92),J=u(11),q=u(46),H=e.Z({encapsulation:2,styles:[],data:{}}),V=e.X("page-idcheck",_,function(l){return e._21(0,[(l()(),e._1(0,0,null,null,1,"page-idcheck",[],null,null,null,t,H)),e._0(1,49152,null,0,_,[R.a,J.a,s.a,q.a,r.a,o.a],null,null)],null,null)},{},{},[]),W=u(10),X=u(18),Y=u(130),Z=u(44);u.d(n,"IdcheckPageModuleNgFactory",function(){return z});var z=e.Y(c,[],function(l){return e._9([e._10(512,e.i,e.U,[[8,[d.a,p.a,h.a,g.a,v.a,b.a,m.a,f.a,C.a,V]],[3,e.i],e.t]),e._10(4608,W.k,W.j,[e.s,[2,W.s]]),e._10(4608,X.k,X.k,[]),e._10(4608,X.c,X.c,[]),e._10(512,W.b,W.b,[]),e._10(512,X.j,X.j,[]),e._10(512,X.d,X.d,[]),e._10(512,X.i,X.i,[]),e._10(512,Y.a,Y.a,[]),e._10(512,Y.b,Y.b,[]),e._10(512,c,c,[]),e._10(256,Z.a,_,[])])})}});